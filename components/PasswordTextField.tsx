import React, { FC, useState } from "react";
import { UseFormRegisterReturn } from "react-hook-form";
import styles from "../styles/TextField.module.scss";

interface TextFiledProps {
  value?: string;
  onChange?: (value: string) => void;
  placeholder: string;
  register?: UseFormRegisterReturn<"password">;
  errorMessage?: string;
}
const PasswordTextField: FC<TextFiledProps> = ({
  value,
  placeholder,
  errorMessage,
  onChange,
  register,
}) => {
  const [active, setActive] = useState(false);

  const activeHandler = () => {
    setActive((prev) => !prev);
  };
  return (
    <div className={styles.pass}>
      <div>
        {errorMessage && <div className={styles.error}>{errorMessage}</div>}
        <input
          value={value}
          placeholder={placeholder}
          {...register}
          type={active ? "text" : "password"}
          autoComplete="off"
          className={styles.input}
        />
        <svg
          className={errorMessage ? styles.icone : styles.icon}
          onClick={activeHandler}
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.7276 4.89849C11.1483 4.834 11.5734 4.80192 11.999 4.80254C15.8131 4.80254 19.3993 7.54918 21.4863 11.999C21.1671 12.6762 20.8066 13.3331 20.4068 13.966C20.2799 14.1625 20.2132 14.3918 20.2149 14.6257C20.2176 14.8874 20.3058 15.1411 20.4661 15.3481C20.6265 15.555 20.8501 15.7038 21.1029 15.7717C21.3557 15.8397 21.6238 15.8231 21.8662 15.7244C22.1087 15.6258 22.3123 15.4505 22.4458 15.2254C23.0046 14.3473 23.4901 13.4247 23.8971 12.4667C23.9614 12.3171 23.9946 12.1559 23.9946 11.993C23.9946 11.8301 23.9614 11.6689 23.8971 11.5192C21.4743 5.894 16.9165 2.40372 11.999 2.40372C11.4361 2.40088 10.874 2.44906 10.3198 2.54765C10.1623 2.57443 10.0116 2.63196 9.87633 2.71698C9.74106 2.80199 9.62386 2.91282 9.53142 3.04313C9.43898 3.17344 9.37311 3.32068 9.33757 3.47644C9.30203 3.63221 9.29752 3.79345 9.3243 3.95096C9.35108 4.10846 9.40861 4.25916 9.49363 4.39443C9.57864 4.5297 9.68947 4.6469 9.81978 4.73934C9.95008 4.83179 10.0973 4.89766 10.2531 4.93319C10.4089 4.96873 10.5701 4.97324 10.7276 4.94646V4.89849ZM2.05589 0.352735C1.94406 0.240905 1.8113 0.152195 1.66519 0.0916729C1.51907 0.0311504 1.36247 0 1.20431 0C1.04616 0 0.889557 0.0311504 0.743443 0.0916729C0.597329 0.152195 0.464566 0.240905 0.352735 0.352735C0.126883 0.578588 0 0.88491 0 1.20431C0 1.52372 0.126883 1.83004 0.352735 2.05589L4.0709 5.76206C2.37442 7.39509 1.02423 9.35307 0.10086 11.5192C0.0348167 11.6705 0.00072777 11.8339 0.00072777 11.999C0.00072777 12.1641 0.0348167 12.3274 0.10086 12.4787C2.52366 18.104 7.08141 21.5942 11.999 21.5942C14.1544 21.5793 16.259 20.9376 18.056 19.7471L21.9421 23.6452C22.0536 23.7576 22.1862 23.8469 22.3324 23.9078C22.4785 23.9686 22.6353 24 22.7936 24C22.952 24 23.1087 23.9686 23.2549 23.9078C23.4011 23.8469 23.5337 23.7576 23.6452 23.6452C23.7576 23.5337 23.8469 23.4011 23.9078 23.2549C23.9686 23.1087 24 22.952 24 22.7936C24 22.6353 23.9686 22.4785 23.9078 22.3324C23.8469 22.1862 23.7576 22.0536 23.6452 21.9421L2.05589 0.352735ZM9.68412 11.3753L12.6227 14.3138C12.42 14.372 12.2098 14.4002 11.999 14.3978C11.3628 14.3978 10.7526 14.1451 10.3028 13.6952C9.85289 13.2453 9.60016 12.6352 9.60016 11.999C9.59771 11.7881 9.62599 11.578 9.68412 11.3753ZM11.999 19.1954C8.18486 19.1954 4.59864 16.4488 2.52366 11.999C3.29859 10.2883 4.39842 8.74448 5.76206 7.45322L7.88501 9.60016C7.38635 10.5103 7.19624 11.5575 7.34319 12.5848C7.49014 13.6121 7.96623 14.5641 8.70004 15.2979C9.43385 16.0317 10.3858 16.5078 11.4131 16.6548C12.4404 16.8017 13.4877 16.6116 14.3978 16.1129L16.3048 17.996C14.9988 18.7647 13.5143 19.1782 11.999 19.1954Z"
            fill={active ? "#40e5be" : "#DADADA"}
          />
        </svg>
      </div>
    </div>
  );
};

export default PasswordTextField;
